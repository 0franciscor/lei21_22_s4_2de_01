<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="939px" preserveAspectRatio="none" style="width:1137px;height:939px;background:#FFFFFF;" version="1.1" viewBox="0 0 1137 939" width="1137.6px" zoomAndPan="magnify"><defs><filter height="300%" id="fbtksotv7nl1t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="815.4984" style="stroke:#A80036;stroke-width:0.6;" width="6" x="38.4" y="59.7656"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="46.2328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="73.1766"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="56.2359" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="137.6203"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="49.425" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="212.0672"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="37.6219" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="279.7031"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="539.7281" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="335.5359"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="479.4844" style="stroke:#A80036;stroke-width:0.6;" width="6" x="508.2" y="367.7578"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="64.4438" style="stroke:#A80036;stroke-width:0.6;" width="6" x="652.8" y="612.9"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="60.6328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="933.9" y="695.5547"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="36.4219" style="stroke:#A80036;stroke-width:0.6;" width="6" x="1022.1" y="774.3984"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="74.4469" style="stroke:#000000;stroke-width:1.2;" width="323.1" x="6" y="146.6203"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="55.0359" style="stroke:#000000;stroke-width:1.2;" width="311.1" x="12" y="161.8312"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="55.0359" style="stroke:#000000;stroke-width:1.2;" width="311.1" x="12" y="229.4672"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="47.4328" style="stroke:#000000;stroke-width:1.2;" width="311.1" x="12" y="292.9031"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="29.2219" style="stroke:#000000;stroke-width:1.2;" width="236.7" x="454.5" y="528.4453"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="29.2219" style="stroke:#000000;stroke-width:1.2;" width="236.7" x="454.5" y="566.0672"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="41.4" x2="41.4" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="281.1" x2="281.1" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="510.9" x2="510.9" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="655.8" x2="655.8" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="861.3" x2="861.3" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="936.9" x2="936.9" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1025.1" x2="1025.1" y1="53.7656" y2="886.0641"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:5.0,5.0;" x1="1104.3" x2="1104.3" y1="53.7656" y2="886.0641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.2" x="18" y="51.9199">Sales Clerk</text><ellipse cx="41.4" cy="9" fill="#FEFECE" filter="url(#fbtksotv7nl1t)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M41.4,13.8 L41.4,30 M33.6,18.6 L49.2,18.6 M41.4,30 L33.6,39 M41.4,30 L49.2,39 " fill="none" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.2" x="18" y="894.184">Sales Clerk</text><ellipse cx="41.4" cy="902.0297" fill="#FEFECE" filter="url(#fbtksotv7nl1t)" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><path d="M41.4,906.8297 L41.4,923.0297 M33.6,911.6297 L49.2,911.6297 M41.4,923.0297 L33.6,932.0297 M41.4,923.0297 L49.2,932.0297 " fill="none" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:1.2;"/><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="69" x="245.7" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="57" x="251.7" y="34.1543">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="60.6" x="249.9" y="44.7199">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="69" x="245.7" y="885.4641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="57" x="251.7" y="898.384">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="60.6" x="249.9" y="908.9496">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="99" x="460.5" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="50.4" x="484.8" y="34.1543">«application»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="90.6" x="464.7" y="44.7199">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="99" x="460.5" y="885.4641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="50.4" x="484.8" y="898.384">«application»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="90.6" x="464.7" y="908.9496">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="56.4" x="626.4" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="636.9" y="34.1543">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="48" x="630.6" y="44.7199">ClientBuilder</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="56.4" x="626.4" y="885.4641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="636.9" y="898.384">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="48" x="630.6" y="908.9496">ClientBuilder</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="52.2" x="834.3" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="841.8" y="34.1543">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.8" x="838.5" y="44.7199">client:Client</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="52.2" x="834.3" y="885.4641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="841.8" y="898.384">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.8" x="838.5" y="908.9496">client:Client</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="81.6" x="894.9" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="53.4" x="909" y="34.1543">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.2" x="899.1" y="44.7199">PersistenceContext</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="81.6" x="894.9" y="885.4641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="53.4" x="909" y="898.384">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="73.2" x="899.1" y="908.9496">PersistenceContext</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="78" x="984.9" y="21.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="1006.2" y="34.1543">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="69.6" x="989.1" y="44.7199">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="29.5313" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="78" x="984.9" y="885.4641"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="1006.2" y="898.384">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="69.6" x="989.1" y="908.9496">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="47.4" x="1078.8" y="41.3543">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="62.4" x="1071.3" y="51.9199">ClientRepository</text><path d="M1093.5,11.0344 C1093.5,5.0344 1104.3,5.0344 1104.3,5.0344 C1104.3,5.0344 1115.1,5.0344 1115.1,11.0344 L1115.1,26.6344 C1115.1,32.6344 1104.3,32.6344 1104.3,32.6344 C1104.3,32.6344 1093.5,32.6344 1093.5,26.6344 L1093.5,11.0344 " fill="#FEFECE" filter="url(#fbtksotv7nl1t)" style="stroke:#000000;stroke-width:0.8999999999999999;"/><path d="M1093.5,11.0344 C1093.5,17.0344 1104.3,17.0344 1104.3,17.0344 C1104.3,17.0344 1115.1,17.0344 1115.1,11.0344 " fill="none" style="stroke:#000000;stroke-width:0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="47.4" x="1078.8" y="894.184">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="62.4" x="1071.3" y="904.7496">ClientRepository</text><path d="M1093.5,912.5953 C1093.5,906.5953 1104.3,906.5953 1104.3,906.5953 C1104.3,906.5953 1115.1,906.5953 1115.1,912.5953 L1115.1,928.1953 C1115.1,934.1953 1104.3,934.1953 1104.3,934.1953 C1104.3,934.1953 1093.5,934.1953 1093.5,928.1953 L1093.5,912.5953 " fill="#FEFECE" filter="url(#fbtksotv7nl1t)" style="stroke:#000000;stroke-width:0.8999999999999999;"/><path d="M1093.5,912.5953 C1093.5,918.5953 1104.3,918.5953 1104.3,918.5953 C1104.3,918.5953 1115.1,918.5953 1115.1,912.5953 " fill="none" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="815.4984" style="stroke:#A80036;stroke-width:0.6;" width="6" x="38.4" y="59.7656"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="46.2328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="73.1766"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="56.2359" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="137.6203"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="49.425" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="212.0672"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="37.6219" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="279.7031"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="539.7281" style="stroke:#A80036;stroke-width:0.6;" width="6" x="278.4" y="335.5359"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="479.4844" style="stroke:#A80036;stroke-width:0.6;" width="6" x="508.2" y="367.7578"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="64.4438" style="stroke:#A80036;stroke-width:0.6;" width="6" x="652.8" y="612.9"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="60.6328" style="stroke:#A80036;stroke-width:0.6;" width="6" x="933.9" y="695.5547"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="36.4219" style="stroke:#A80036;stroke-width:0.6;" width="6" x="1022.1" y="774.3984"/><polygon fill="#A80036" points="271.2,70.7766,277.2,73.1766,271.2,75.5766,273.6,73.1766" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="44.4" x2="274.8" y1="73.1766" y2="73.1766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="48.6" y="70.2627">1</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="131.4" x="55.2" y="70.2627">Inicia o processo de registo do cliente</text><polygon fill="#A80036" points="504,88.9875,510,91.3875,504,93.7875,506.4,91.3875" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="284.4" x2="507.6" y1="91.3875" y2="91.3875"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="288.6" y="88.4736">2</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="295.2" y="88.4736">create</text><polygon fill="#A80036" points="51,117.0094,45,119.4094,51,121.8094,48.6,119.4094" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="47.4" x2="280.8" y1="119.4094" y2="119.4094"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="54.6" y="111.59">3</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="210.6" x="61.2" y="106.6846">Solicita os dados obrigatórios (firstNames, surnames, Email,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="129.6" x="61.2" y="116.4955">PhoneNumber, VAT, Postal Address)</text><polygon fill="#A80036" points="271.2,135.2203,277.2,137.6203,271.2,140.0203,273.6,137.6203" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="44.4" x2="274.8" y1="137.6203" y2="137.6203"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="48.6" y="134.7064">4</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="101.4" x="55.2" y="134.7064">Introduz os dados solicitados</text><path d="M6,146.6203 L42.6,146.6203 L42.6,151.4203 L36.6,157.4203 L6,157.4203 L6,146.6203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="74.4469" style="stroke:#000000;stroke-width:1.2;" width="323.1" x="6" y="146.6203"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="15" y="155.3174">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="152.4" x="51.6" y="154.6717">[Sales Clerk deseja associar mais endereços]</text><path d="M12,161.8312 L55.8,161.8312 L55.8,166.6313 L49.8,172.6313 L12,172.6313 L12,161.8312 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="55.0359" style="stroke:#000000;stroke-width:1.2;" width="311.1" x="12" y="161.8312"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="16.8" x="21" y="170.5283">loop</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="132" x="64.8" y="169.8826">[Enquanto o Sales Clerk quiser associar</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="56.4" x="64.8" y="178.1842">mais endereços]</text><polygon fill="#A80036" points="51,191.4562,45,193.8563,51,196.2563,48.6,193.8563" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="47.4" x2="280.8" y1="193.8563" y2="193.8563"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="54.6" y="190.9424">5</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="66.6" x="61.2" y="190.9424">Solicita o endereço</text><polygon fill="#A80036" points="271.2,209.6672,277.2,212.0672,271.2,214.4672,273.6,212.0672" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="44.4" x2="274.8" y1="212.0672" y2="212.0672"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="48.6" y="209.1533">6</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="68.4" x="55.2" y="209.1533">Introduz o endereço</text><path d="M12,229.4672 L48.6,229.4672 L48.6,234.2672 L42.6,240.2672 L12,240.2672 L12,229.4672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="55.0359" style="stroke:#000000;stroke-width:1.2;" width="311.1" x="12" y="229.4672"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="21" y="238.1643">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="99.6" x="57.6" y="237.5186">[Sales Clerk deseja associar a</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="101.4" x="57.6" y="245.8201">data de nascimento do cliente]</text><polygon fill="#A80036" points="51,259.0922,45,261.4922,51,263.8922,48.6,261.4922" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="47.4" x2="280.8" y1="261.4922" y2="261.4922"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="54.6" y="258.5783">7</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="103.2" x="61.2" y="258.5783">Solicita a data de nascimento</text><polygon fill="#A80036" points="271.2,277.3031,277.2,279.7031,271.2,282.1031,273.6,279.7031" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="44.4" x2="274.8" y1="279.7031" y2="279.7031"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="48.6" y="276.7893">8</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="98.4" x="55.2" y="276.7893">introduz data de nascimento</text><path d="M12,292.9031 L48.6,292.9031 L48.6,297.7031 L42.6,303.7031 L12,303.7031 L12,292.9031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="47.4328" style="stroke:#000000;stroke-width:1.2;" width="311.1" x="12" y="292.9031"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="21" y="301.6002">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="154.8" x="57.6" y="300.9545">[Sales Clerk deseja associar o sexo do cliente]</text><polygon fill="#A80036" points="51,314.925,45,317.325,51,319.725,48.6,317.325" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="47.4" x2="280.8" y1="317.325" y2="317.325"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="4.2" x="54.6" y="314.4111">9</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="51.6" x="61.2" y="314.4111">Solicita o sexo</text><polygon fill="#A80036" points="271.2,333.1359,277.2,335.5359,271.2,337.9359,273.6,335.5359" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="44.4" x2="274.8" y1="335.5359" y2="335.5359"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="48.6" y="332.6221">10</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="53.4" x="59.4" y="332.6221">Introduz o sexo</text><polygon fill="#A80036" points="501,365.3578,507,367.7578,501,370.1578,503.4,367.7578" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="284.4" x2="504.6" y1="367.7578" y2="367.7578"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="288.6" y="359.9385">11</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="201.6" x="299.4" y="355.033">registerClient(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="130.8" x="299.4" y="364.8439">vat, postalAddress, birthDate, gender)</text><path d="M658.8,375.5578 L658.8,391.1578 L942,391.1578 L942,381.5578 L936,375.5578 L658.8,375.5578 " fill="#FBFB77" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:0.6;"/><path d="M936,375.5578 L936,381.5578 L942,381.5578 L936,375.5578 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="270.6" x="662.4" y="386.6549">ClientBuilder é usado para criar uma entidade do tipo Client num estado válido</text><polygon fill="#A80036" points="648.6,407.7797,654.6,410.1797,648.6,412.5797,651,410.1797" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="410.1797" y2="410.1797"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="407.2658">12</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="529.2" y="407.2658">create</text><polygon fill="#A80036" points="648.6,425.9906,654.6,428.3906,648.6,430.7906,651,428.3906" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="428.3906" y2="428.3906"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="425.4768">13</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="87.6" x="529.2" y="425.4768">setFirstName(firstnames)</text><polygon fill="#A80036" points="648.6,444.2016,654.6,446.6016,648.6,449.0016,651,446.6016" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="446.6016" y2="446.6016"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="443.6877">14</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="85.2" x="529.2" y="443.6877">setSurnames(surnames)</text><polygon fill="#A80036" points="648.6,462.4125,654.6,464.8125,648.6,467.2125,651,464.8125" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="464.8125" y2="464.8125"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="461.8986">15</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="54" x="529.2" y="461.8986">setEmail(email)</text><polygon fill="#A80036" points="648.6,480.6234,654.6,483.0234,648.6,485.4234,651,483.0234" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="483.0234" y2="483.0234"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="480.1096">16</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="112.8" x="529.2" y="480.1096">setPhoneNumber(phoneNumber)</text><polygon fill="#A80036" points="648.6,498.8344,654.6,501.2344,648.6,503.6344,651,501.2344" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="501.2344" y2="501.2344"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="498.3205">17</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="40.2" x="529.2" y="498.3205">setVAT(vat)</text><polygon fill="#A80036" points="648.6,517.0453,654.6,519.4453,648.6,521.8453,651,519.4453" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="519.4453" y2="519.4453"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="516.5314">18</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="116.4" x="529.2" y="516.5314">setPostalAddress(postalAddress)</text><path d="M454.5,528.4453 L491.1,528.4453 L491.1,533.2453 L485.1,539.2453 L454.5,539.2453 L454.5,528.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="29.2219" style="stroke:#000000;stroke-width:1.2;" width="236.7" x="454.5" y="528.4453"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="463.5" y="537.1424">alt</text><polygon fill="#A80036" points="648.6,550.4672,654.6,552.8672,648.6,555.2672,651,552.8672" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="552.8672" y2="552.8672"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="549.9533">19</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="79.2" x="529.2" y="549.9533">setBirthDate(birthDate)</text><path d="M454.5,566.0672 L491.1,566.0672 L491.1,570.8672 L485.1,576.8672 L454.5,576.8672 L454.5,566.0672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.6;"/><rect fill="none" height="29.2219" style="stroke:#000000;stroke-width:1.2;" width="236.7" x="454.5" y="566.0672"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="9.6" x="463.5" y="574.7643">alt</text><polygon fill="#A80036" points="648.6,588.0891,654.6,590.4891,648.6,592.8891,651,590.4891" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="652.2" y1="590.4891" y2="590.4891"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="587.5752">20</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="64.2" x="529.2" y="587.5752">setGender(gender)</text><polygon fill="#A80036" points="645.6,610.5,651.6,612.9,645.6,615.3,648,612.9" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="649.2" y1="612.9" y2="612.9"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="609.9861">21</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="46.2" x="529.2" y="609.9861">createClient()</text><polygon fill="#A80036" points="854.4,638.5219,860.4,640.9219,854.4,643.3219,856.8,640.9219" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="658.8" x2="858" y1="640.9219" y2="640.9219"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="663" y="633.1025">22</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="177.6" x="673.8" y="628.1971">create(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="130.8" x="673.8" y="638.008">vat, postalAddress, birthDate, gender)</text><polygon fill="#A80036" points="665.4,656.7328,659.4,659.1328,665.4,661.5328,663,659.1328" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="661.8" x2="861" y1="659.1328" y2="659.1328"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="669" y="656.2189">23</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="18.6" x="679.8" y="656.2189">client</text><polygon fill="#A80036" points="520.8,674.9438,514.8,677.3438,520.8,679.7438,518.4,677.3438" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="517.2" x2="655.2" y1="677.3438" y2="677.3438"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="674.4299">24</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="18.6" x="535.2" y="674.4299">client</text><polygon fill="#A80036" points="926.7,693.1547,932.7,695.5547,926.7,697.9547,929.1,695.5547" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="930.3" y1="695.5547" y2="695.5547"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="692.6408">25</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="45" x="529.2" y="692.6408">repositories()</text><path d="M942.6,703.3547 L942.6,718.9547 L1101,718.9547 L1101,709.3547 L1095,703.3547 L942.6,703.3547 " fill="#FBFB77" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:0.6;"/><path d="M1095,703.3547 L1095,709.3547 L1101,709.3547 L1095,703.3547 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="145.8" x="946.2" y="714.4518">pode criar repositório em memória ou JPA</text><polygon fill="#A80036" points="1017.9,735.5766,1023.9,737.9766,1017.9,740.3766,1020.3,737.9766" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="939.9" x2="1021.5" y1="737.9766" y2="737.9766"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="944.1" y="735.0627">26</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="954.9" y="735.0627">create</text><polygon fill="#A80036" points="520.8,753.7875,514.8,756.1875,520.8,758.5875,518.4,756.1875" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="517.2" x2="936.3" y1="756.1875" y2="756.1875"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="753.2736">27</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="23.4" x="535.2" y="753.2736">factory</text><polygon fill="#A80036" points="1014.9,771.9984,1020.9,774.3984,1014.9,776.7984,1017.3,774.3984" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="1018.5" y1="774.3984" y2="774.3984"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="771.4846">28</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="27.6" x="529.2" y="771.4846">clients()</text><polygon fill="#A80036" points="1097.1,790.2094,1103.1,792.6094,1097.1,795.0094,1099.5,792.6094" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="1028.1" x2="1100.7" y1="792.6094" y2="792.6094"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="1032.3" y="789.6955">29</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="21.6" x="1043.1" y="789.6955">create</text><polygon fill="#A80036" points="520.8,808.4203,514.8,810.8203,520.8,813.2203,518.4,810.8203" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="517.2" x2="1024.5" y1="810.8203" y2="810.8203"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="524.4" y="807.9064">30</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="55.8" x="535.2" y="807.9064">clientRepository</text><polygon fill="#A80036" points="1097.1,826.6313,1103.1,829.0313,1097.1,831.4313,1099.5,829.0313" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="514.2" x2="1100.7" y1="829.0313" y2="829.0313"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="518.4" y="826.1174">31</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="39" x="529.2" y="826.1174">save(client)</text><polygon fill="#A80036" points="291,844.8422,285,847.2422,291,849.6422,288.6,847.2422" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;" x1="287.4" x2="510.6" y1="847.2422" y2="847.2422"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="294.6" y="844.3283">32</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="15" x="305.4" y="844.3283">user</text><polygon fill="#A80036" points="48,872.8641,42,875.2641,48,877.6641,45.6,875.2641" style="stroke:#A80036;stroke-width:0.6;"/><line style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="44.4" x2="280.8" y1="875.2641" y2="875.2641"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="8.4" x="51.6" y="867.4447">33</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="115.2" x="62.4" y="862.5393">Informa o sucesso da operação e</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="106.8" x="62.4" y="872.3502">mostra a informação do cliente</text><!--MD5=[432e335dc965087d4f18f9277b0614c8]
@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterClientUI as UI <<presentation>>
participant RegisterClientController as Controller <<application>>
participant ClientBuilder as Builder <<builder>>
participant "client:Client" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ClientRepository as Repository <<repository>>

activate SC
SC -> UI : Inicia o processo de registo do cliente
activate UI
UI -> Controller: create
UI - -> SC : Solicita os dados obrigatórios (firstNames, surnames, Email, \nPhoneNumber, VAT, Postal Address)
deactivate UI
SC -> UI : Introduz os dados solicitados
activate UI



alt Sales Clerk deseja associar mais endereços
loop Enquanto o Sales Clerk quiser associar \nmais endereços
UI - -> SC : Solicita o endereço
deactivate UI


SC -> UI : Introduz o endereço
activate UI
end
end
alt Sales Clerk deseja associar a \ndata de nascimento do cliente
activate UI
UI - -> SC : Solicita a data de nascimento
deactivate UI
SC -> UI : introduz data de nascimento
activate UI
end
alt Sales Clerk deseja associar o sexo do cliente
UI - -> SC : Solicita o sexo
deactivate UI
SC -> UI : Introduz o sexo
activate UI
end
UI -> Controller: registerClient(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
activate Controller
note right of Builder:ClientBuilder é usado para criar uma entidade do tipo Client num estado válido
Controller -> Builder: create
Controller -> Builder:setFirstName(firstnames)
Controller -> Builder:setSurnames(surnames)
Controller -> Builder:setEmail(email)
Controller -> Builder:setPhoneNumber(phoneNumber)
Controller -> Builder:setVAT(vat)
Controller -> Builder:setPostalAddress(postalAddress)
alt
    Controller -> Builder:setBirthDate(birthDate)
end
alt
    Controller -> Builder:setGender(gender)
end
Controller -> Builder:createClient()
activate Builder
Builder -> Domain: create(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
Domain->Builder: client
Builder -> Controller:client
deactivate Builder
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: pode criar repositório em memória ou JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: clients()
activate Factory
Factory -> Repository: create
Factory -> Controller: clientRepository
deactivate Factory
Controller->Repository:save(client)
Controller->UI: user
deactivate Controller
UI - -> SC : Informa o sucesso da operação e \nmostra a informação do cliente
deactivate UI
deactivate SC



@enduml

PlantUML version 1.2022.1(Tue Feb 01 18:19:58 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>