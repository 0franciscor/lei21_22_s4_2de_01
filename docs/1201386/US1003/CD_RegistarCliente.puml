@startuml
'https://plantuml.com/class-diagram

class RegisterClientUI{
}

class RegisterClientController{
+create()
+registerClient(firstnames, surnames, email, phoneNumber,vat, postalAddress, birthDate, gender)}
}


class PersistenceContext{
+repositories()
}

class RepositoryFactory{
+create()
+newTransactionalContext()
+create(TransactionalContext ctx)
}

database ClientRepository{
}

class Client{
+create()
}

class ClientBuilder{
+create()
+createClient()
}

class TransactionalContext{
+beginTransaction()
+commit()
}


RegisterClientUI ..> RegisterClientController

RegisterClientController..>ClientBuilder
RegisterClientController..>PersistenceContext
RegisterClientController..>TransactionalContext
RegisterClientController..>ClientRepository

ClientBuilder --> Client

PersistenceContext..>RepositoryFactory

RepositoryFactory..>ClientRepository


@enduml